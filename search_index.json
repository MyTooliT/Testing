[["Testing.html", "STH &amp; STU Tests 1 Vorbereitung 1.1 Hardware 1.2 Software 2 STH-Test 2.1 Test-Vorgang 3 STU-Test 3.1 Test-Vorgang", " STH &amp; STU Tests MyTooliT 1 Vorbereitung Damit der Test für eine STH oder STU durchgeführt werden kann benötigt man diverse Hardware- und Software-Komponenten. Der nächste Teil des Texts beschreibt als erstes das Hardware-Setup und dann die Installation der benötigten Software. 1.1 Hardware Arbeitsplatz PC aufbauen und Peripherie (Maus, Tastatur, Bildschirm) anschließen ESD-Matte aufbauen und anschließen Stromversorgung für STU einrichten Power-Injector (24V) (oder selten für 5V: Micro-USB) 24V Vs. 5V PEAK-CAN-Adapter an USB-Port anschließen Programming-Board an USB-Port anschließen Je nachdem ob man eine SHA/STH oder STU testen will unterscheidet sich welche Einheit man am Debug-Adapter des Programming-Boards anstecken muss: Programming Board STH-Test: Debug-Adapter von Programming-Board (mittels Adapter Cable) mit SHA/STH verbinden SHA STU-Test: Debug-Adapter von Programming-Board (mittels Adapter Cable) mit STU verbinden STU 1.2 Software Windows 10 installieren Python (3.9+) installieren Nicht vergessen „Add Python to Path“ zu selektieren Simplicity Studio installieren (Simplicity Commander wird benötigt) PEAK-System-Gerätetreiber für Windows installieren ICOc installieren: pip install icoc Im Documents-Ordner (des aktuellen Benutzers) einen neuen Unter-Ordner namens Firmware erstellen und das aktuelle STH-Binary (.hex) dort speichern. Im vorher erstellten Firmware-Ordner ebenfalls das aktuelle STU-Binary (.hex) speichern. Nach diesen Schritten sollte die Ordner-Struktur in etwa so aussehen: Documents └── Firmware ├── manufacturingImageSthv2.1.10.hex └── manufacturingImageStuv2.1.10.hex Nachdem die Software-Komponenten nur erfolgreich installiert und eingerichtet wurden kann man mit dem STH-Test oder dem STU-Test fortfahren. 2 STH-Test 2.1 Test-Vorgang Schalter an Programming-Board in Position „AEM“ schieben (Stromversorgung über Programming-Board) Die Konfigurationswerte anpassen Um die Benutzer-Konfigurationsdatei zu öffnen kann man folgenden Befehl verwenden: icon config Eventuell sind folgende Daten in der Konfiguration zu ändern: Seriennummer des Boards Seriennummer ermitteln: Steht im LCD des Programming-Boards ganz unten sth → programming board → serial number ändern Name des PCB (sth → name) Neue Boards sollten üblicherweise den Namen „Tanja“ haben Verwendeter Beschleunigungssensor (sth → acceleration sensor → sensor) (Optional): Welcher Sensor verwendet wird lässt sich üblicherweise an Hand eines Sticker an der Rückseite des PCB ermitteln. Ein Sticker mit der Aufschrift 1 weißt dabei auf den Sensor ADXL1001 hin, während 2 auf den Sensor ADXL1002 verweist. Falls kein Sticker vorhanden ist, kann eine Lupe oder die Lupenfunktion eines Mobiltelefons recht hilfreich sein um die Identifikation auf dem Sensor zu lesen. Production Date auf Datum des PCB (sth → production date) (Optional) Operator-Name auf den eigenen Namen setzen (operator → name) (Optional) test-sth in Powershell ausführen: test-sth -v Test-Ergebnis ansehen Testergebnis OK: gehe zu Schritt 5 Testergebnis FAILED oder ERROR: Fehlersuche Freigegeben für Einbau Test für eingebaute SHA (STH) und vergossene STH wiederholen Schalter an Programming-Board in Position „USB“ schieben Nachdem alle Test erfolgreich abgeschlossen wurden: Fertig für Versand 3 STU-Test 3.1 Test-Vorgang Die Konfigurationswerte anpassen Um die Benutzer-Konfigurationsdatei zu öffnen kann man folgenden Befehl verwenden: icon config Eventuell sind folgende Daten in der Konfiguration zu ändern: Seriennummer des Boards Seriennummer ermitteln: Steht im LCD des Programming-Boards ganz unten stu → programming board → serial number ändern Production Date auf Datum des PCB (stu → production date) (Optional) Operator-Name auf den eigenen Namen setzen (operator → name) (Optional) test-stu in Powershell ausführen: test-stu -v Test-Ergebnis ansehen Testergebnis OK: gehe zu Schritt 4 Testergebnis FAILED oder ERROR: Fehlersuche Nachdem alle Test erfolgreich abgeschlossen wurden: Fertig für Versand "]]
